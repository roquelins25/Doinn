<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard Pagamentos</title>

    <!-- Tailwind + √çcones -->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/custom-dashboard.css') }}"
    />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#13a4ec",
              success: "#16a34a",
              warning: "#f59e0b",
              danger: "#dc2626",
              info: "#3b82f6",
              "background-light": "#f6f7f8",
              "background-dark": "#101c22",
            },
            fontFamily: { display: ["Inter"] },
          },
        },
      };
    </script>

    <!-- CSS principal -->
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/custom-dashboard.css') }}"
    />

    <!-- CSS espec√≠fico (somente o necess√°rio) -->
    <style>
      /* üîπ Tooltip nativo */
      #dataTable td[title]:hover::after {
        content: attr(title);
        position: absolute;
        background: rgba(0, 0, 0, 0.8);
        color: #fff;
        font-size: 12px;
        padding: 6px 8px;
        border-radius: 4px;
        top: -30px;
        white-space: normal;
        z-index: 1000;
        max-width: 300px;
      }

      /* üîπ Bot√µes de a√ß√£o */
      .btn-action {
        background: #13a4ec;
        color: white;
        border-radius: 6px;
        font-size: 12px;
        font-weight: 600;
        padding: 4px 10px;
        transition: 0.2s;
      }
      .btn-action:hover {
        background: #0f8dc9;
      }
    </style>
  </head>

  <body class="font-display bg-background-light dark:bg-background-dark">
    <div class="flex flex-col min-h-screen">
      <!-- Header -->
      <header
        class="flex items-center justify-between px-6 py-4 border-b bg-white dark:bg-background-dark border-primary/20 dark:border-primary/30 shadow-sm"
      >
        <div class="flex items-center gap-3">
          <div class="text-primary size-6">
            <svg
              fill="none"
              viewBox="0 0 48 48"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M44 4H30.6666V17.3334H17.3334V30.6666H4V44H44V4Z"
                fill="currentColor"
              ></path>
            </svg>
          </div>
          <h1 class="text-xl font-bold text-gray-900 dark:text-white">
            Controle de Pagamentos
          </h1>
        </div>

        <div class="flex flex-wrap items-center gap-3">
          <button id="saveButton" class="btn-save">Salvar Altera√ß√µes</button>
          <a href="{{ url_for('main.logout') }}" class="btn-logout">Sair</a>
          <div id="alertBox" class="text-sm"></div>
        </div>
      </header>

      <!-- Main -->
      <main class="flex-grow p-6 lg:p-10">
        
        <div class="max-w-7xl mx-auto dashboard active" id="dashboard">
          <!-- Filtros -->
          <div
            class="bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-6 overflow-x-auto"
          >
            <div class="flex flex-nowrap items-center gap-3 min-w-max">
              <input
                type="date"
                id="startDate"
                class="border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm"
              />
              <input
                type="date"
                id="endDate"
                class="border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm"
              />
              <select
                id="statusFilter"
                class="border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm"
              >
                <option value="">Todos Status</option>
                <option value="Sim">Sim</option>
                <option value="N√£o">N√£o</option>
                <option value="Cancelado">Cancelado</option>
                <option value="Pendente">Pendente</option>
              </select>
              <input
                type="text"
                id="employeeFilter"
                placeholder="Filtrar Funcion√°rio"
                class="border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm"
              />
              <input
                type="text"
                id="serviceFilter"
                placeholder="Filtrar Servi√ßo"
                class="border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm"
              />
            </div>
          </div>

          <!-- Loading -->
          <div
            id="loading"
            class="text-center text-gray-500 dark:text-gray-300 mb-4 hidden"
          >
            Carregando dados...
          </div>

          <!-- Cards de Totais -->
          <div
            class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-4 mb-6"
            id="cardsTotais"
          >
            <!-- Card Total Bruto -->
            <div
              class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow flex items-center justify-between"
            >
              <div>
                <p class="text-gray-500 text-sm font-medium">Total Bruto</p>
                <h2
                  id="totalBruto"
                  class="text-2xl font-bold text-gray-900 dark:text-white"
                >
                  R$ 0,00
                </h2>
              </div>
              <span
                class="material-symbols-outlined text-primary text-4xl bg-primary/10 p-3 rounded-full"
              >
                payments
              </span>
            </div>

            <!-- Card Quantidade de Registros -->
            <div
              class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow flex items-center justify-between"
            >
              <div>
                <p class="text-gray-500 text-sm font-medium">Quantidade de Registros</p>
                <h2
                  id="quantidadeRegistros"
                  class="text-2xl font-bold text-gray-900 dark:text-white"
                >
                  0
                </h2>
              </div>
              <span
                class="material-symbols-outlined text-success text-4xl bg-success/10 p-3 rounded-full"
              >
                checklist
              </span>
            </div>
          </div>


          <!-- Tabela -->
          <div
            class="table-container bg-white dark:bg-gray-800 rounded-lg shadow"
          >
            <table id="dataTable" class="w-full text-sm text-left hidden">
              <thead
                class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"
              >
                <tr>
                  <th class="px-4 py-3 text-center">A√ß√µes</th>
                  <th class="px-4 py-3">Status Pagamento</th>
                  <th class="px-4 py-3">Data Pagamento</th>
                  <th class="px-4 py-3">Order ID</th>
                  <th class="px-4 py-3 text-right">Total Bruto</th>
                  <th class="px-4 py-3">Funcion√°rio</th>
                  <th class="px-4 py-3">Data Agendada</th>
                  <th class="px-4 py-3">Espa√ßo</th>
                  <th class="px-4 py-3">Servi√ßo</th>
                  <th class="px-4 py-3">Externo</th>
                  <th class="px-4 py-3">Status</th>
                </tr>
              </thead>
              <tbody id="tableBody"></tbody>
            </table>
          </div>

          <!-- Pagina√ß√£o -->
          <div id="pagination" class="pagination mt-4"></div>
        </div>
      </main>
    </div>

    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>


  </body>
</html>